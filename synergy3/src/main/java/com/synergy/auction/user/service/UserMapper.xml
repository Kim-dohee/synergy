<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.synergy.auction.user.service.UserMapper">
	<insert id="userInsert"
			parameterType="com.synergy.auction.user.service.UserDto">
		INSERT INTO user(
			user_id
			,user_pw
			,user_name
			,user_phone
			,user_email
			,user_nick
			,user_joindate
			,user_level
		) VALUES (
			#{userId}
			,#{userPw}
			,#{userName}
			,#{userPhone}
			,#{userEmail}
			,#{userNick}
			,now()
			,일반회원
		)
	</insert>
	
	<select id="userSelectOne" parameterType="String" resultType="com.synergy.auction.user.service.UserDto"> 
		SELECT
			user_no AS userNo
		FROM 
			user 
		WHERE user_id=#{userId} 
	</select> 
	
	<insert id="creditRecordInsert"  
		parameterType="com.synergy.auction.user.service.CashRecordDto">  
		INSERT INTO credit_record(  
			user_no
			,credit_record_now_score
		) VALUES (  
			#{userNo}  
			,80  
		)
	</insert>  
	
</mapper>